<div class="row">
	<div class="container m-map col-md-8">

		<div class="m-map-info row">
			<div class="col-md-6">
								
				<h3>Item</h3>

				<div ng-if="item.type == 'text'">
					<div class="input-group">
					  <span class="input-group-addon">url</span>
					  <input type="text" class="form-control" placeholder="src" ng-model="item.url">
					</div>	
					<br/>
					<div class="input-group">
					  <span class="input-group-addon">name</span>
					  <input type="text" class="form-control" placeholder="name" ng-model="item.name">
					</div>	
				</div>

				<div ng-if="item.type == 'image'">
					<img ng-src="{{item.node.src.www}}">
					
					<div class="input-group">
					  <span class="input-group-addon">url</span>
					  <input type="text" class="form-control" placeholder="src" ng-model="item.node.src.www">
					</div>		
					
					<br/>
					
					<div class="input-group">
					  <span class="input-group-addon">parent</span>
					  <input type="text" class="form-control" placeholder="parent" ng-model="item.parent">
					</div>						
				</div>
	
				
				<br/>
								
				<h3>Place</h3>

				<div class="input-group" ng-if="!activeMarker">
				  <span class="input-group-addon">coords</span>
				  <input type="text" class="form-control" placeholder="longitude" ng-value="newPlace.coords.longitude">
				  <input type="text" class="form-control" placeholder="latitude" ng-value="newPlace.coords.latitude">
				</div>	

				<div class="input-group" ng-if="activeMarker">
				  <span class="input-group-addon">coords</span>
				  <input type="text" class="form-control" placeholder="coords" ng-value="activeMarker.coords">
				</div>	


				<br/>

				<div class="input-group"  ng-if="!activeMarker">
				  <span class="input-group-addon">name</span>
				  <input type="text" class="form-control" placeholder="name of place" ng-model="newPlace.name">
				</div>	

				<div class="input-group"  ng-if="activeMarker">
				  <span class="input-group-addon">name</span>
				  <input type="text" class="form-control" placeholder="name of place" ng-model="activeMarker.name">
				</div>	

				<br/>

				<button ng-click="addNew(item, newPlace)" ng-if="newPlace.coords && !activeMarker" class="btn btn-default">
					Add
				</button>
				<button ng-click="updatePlace(item, activeMarker.id)" ng-if="activeMarker" class="btn btn-default">
					Add to {{activeMarker.name}}
				</button>
				<button ng-click="cancel()" class="btn btn-default">
					Cancel
				</button>
				<br/>
				<br/>
			</div>
					
			<div class="col-md-6">
				<h3>Items</h3>
				
				<h4>People</h4>
				<ul class="list-group m-map-items">
					<li class="list-group-item">
						<div class="input-group input-group-sm">
							<span class="input-group-addon">
								<input type="checkbox" ng-model="selectedPeople[newPerson]">
							</span>
							<input type="text" class="form-control" ng-model="newPerson"/>
						</div>
					</li>				
					<li class="list-group-item" ng-repeat="person in item.people">
						<div class="input-group input-group-sm">
							<span class="input-group-addon">
								<input type="checkbox" ng-model="selectedPeople[person]">
							</span>
							<input type="text" class="form-control" ng-model="person"/>
						</div>
					</li>
				</ul>

				<h4>Years</h4>
				<ul class="list-group m-map-items">
					<li class="list-group-item">
						<div class="input-group input-group-sm">
							<span class="input-group-addon">
								<input type="checkbox" ng-model="selectedYears[newYear]">
							</span>
							<input type="text" class="form-control" ng-model="newYear"/>
						</div>
					</li>			
					<li class="list-group-item" ng-repeat="year in item.years">
						<div class="input-group input-group-sm">
							<span class="input-group-addon">
								<input type="checkbox" ng-model="selectedYears[year]">
							</span>
							<input type="text" class="form-control" ng-model="year"/>
						</div>
					</li>
				</ul>
			</div>
		</div>		
		
		<ui-gmap-google-map 
			center='map.center' 
			zoom='map.zoom'
			events='map.events'
			options='map.options'

		>

	        <ui-gmap-marker 
	        	coords="newPlace.coords" 
	        	idkey="1"
	        	icon="'http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|F224D8'"
	        >
	        </ui-gmap-marker>

			<ui-gmap-markers 
				models="markers" 
				idkey="'_id'" 
				coords="'self'" 
				icon="'icon'" 
				events="marker.events"
			>
	        </ui-gmap-markers>


		</ui-gmap-google-map>	
	</div>
	<div class="col-md-4" ng-if="activeMarker">
		<h3>Active Marker</h3>
		<ul class="list-group">				
			<li class="list-group-item" ng-repeat="item in activeMarker.items">
				<img ng-src="{{item.data.src}}" alt="" ng-if="item.data.type == 'image'" width="100px">
				<span ng-if="item.data.type !== 'image'">{{item.data.name}}</span>
			</li>
		</ul>		


	</div>
</div>

